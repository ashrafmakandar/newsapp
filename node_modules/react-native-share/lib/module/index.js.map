{"version":3,"sources":["index.tsx"],"names":["NativeModules","Platform","Overlay","Sheet","Button","ShareSheet","requireAndAskPermissions","Social","ShareAsset","RNShare","FACEBOOK","Facebook","FACEBOOK_STORIES","FACEBOOKSTORIES","FacebookStories","PAGESMANAGER","Pagesmanager","TWITTER","Twitter","WHATSAPP","Whatsapp","INSTAGRAM","Instagram","INSTAGRAM_STORIES","INSTAGRAMSTORIES","InstagramStories","GOOGLEPLUS","Googleplus","EMAIL","Email","PINTEREST","Pinterest","LINKEDIN","Linkedin","SMS","Sms","SHARE_BACKGROUND_IMAGE","BackgroundImage","SHARE_STICKER_IMAGE","StickerImage","SHARE_BACKGROUND_AND_STICKER_IMAGE","BackgroundAndStickerImage","open","options","Promise","resolve","reject","then","OS","url","urls","filename","filenames","error","success","message","failOnCancel","dismissedAction","Error","catch","e","shareSingle","isPackageInstalled","packageName","isInstalled"],"mappings":"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","sourcesContent":["import { NativeModules, Platform } from 'react-native';\n\nimport Overlay from './components/Overlay';\nimport Sheet from './components/Sheet';\nimport Button from './components/Button';\nimport ShareSheet from './components/ShareSheet';\nimport requireAndAskPermissions from './helpers/requireAndAskPermissions';\nimport {\n  Social,\n  IsPackageInstalledResult,\n  ActivityType,\n  ShareOpenResult,\n  ShareAsset,\n  ShareOptions,\n  ShareSingleOptions,\n  ShareSingleResult,\n} from './types';\n\nconst RNShare = {\n  Button,\n  ShareSheet,\n  Overlay,\n  Sheet,\n\n  Social: {\n    FACEBOOK: NativeModules.RNShare.FACEBOOK || Social.Facebook,\n    FACEBOOK_STORIES: NativeModules.RNShare.FACEBOOKSTORIES || Social.FacebookStories,\n    PAGESMANAGER: NativeModules.RNShare.PAGESMANAGER || Social.Pagesmanager,\n    TWITTER: NativeModules.RNShare.TWITTER || Social.Twitter,\n    WHATSAPP: NativeModules.RNShare.WHATSAPP || Social.Whatsapp,\n    INSTAGRAM: NativeModules.RNShare.INSTAGRAM || Social.Instagram,\n    INSTAGRAM_STORIES: NativeModules.RNShare.INSTAGRAMSTORIES || Social.InstagramStories,\n    GOOGLEPLUS: NativeModules.RNShare.GOOGLEPLUS || Social.Googleplus,\n    EMAIL: NativeModules.RNShare.EMAIL || Social.Email,\n    PINTEREST: NativeModules.RNShare.PINTEREST || Social.Pinterest,\n    LINKEDIN: NativeModules.RNShare.LINKEDIN || Social.Linkedin,\n    SMS: NativeModules.RNShare.SMS || Social.Sms,\n  },\n\n  FacebookStories: {\n    SHARE_BACKGROUND_IMAGE:\n      NativeModules.RNShare.SHARE_BACKGROUND_IMAGE || ShareAsset.BackgroundImage,\n    SHARE_STICKER_IMAGE: NativeModules.RNShare.SHARE_STICKER_IMAGE || ShareAsset.StickerImage,\n    SHARE_BACKGROUND_AND_STICKER_IMAGE:\n      NativeModules.RNShare.SHARE_BACKGROUND_AND_STICKER_IMAGE ||\n      ShareAsset.BackgroundAndStickerImage,\n  },\n\n  open(options: ShareOptions): Promise<ShareOpenResult | never> {\n    return new Promise((resolve, reject) => {\n      requireAndAskPermissions(options)\n        .then(() => {\n          if (Platform.OS === 'ios' && options.url && !options.urls) {\n            // Backward compatibility with { Share } from react-native\n            const url = options.url;\n            delete options.url;\n\n            options.urls = [url];\n\n            if (options.filename && !options.filenames) {\n              options.filenames = [options.filename];\n              delete options.filename;\n            }\n          }\n\n          NativeModules.RNShare.open(\n            options,\n            (error) => {\n              return reject({ error });\n            },\n            (success, message) => {\n              if (success) {\n                return resolve({\n                  success,\n                  message,\n                });\n              } else if (options.failOnCancel === false) {\n                return resolve({\n                  dismissedAction: true,\n                  success,\n                  message,\n                });\n              } else {\n                reject(new Error('User did not share'));\n              }\n            },\n          );\n        })\n        .catch((e: unknown) => reject(e));\n    });\n  },\n\n  shareSingle(options: ShareSingleOptions): Promise<ShareSingleResult | never> {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      return new Promise((resolve, reject) => {\n        requireAndAskPermissions(options)\n          .then(() => {\n            NativeModules.RNShare.shareSingle(\n              options,\n              (error) => {\n                return reject({ error });\n              },\n              (success, message) => {\n                return resolve({\n                  success,\n                  message,\n                });\n              },\n            );\n          })\n          .catch((e: unknown) => reject(e));\n      });\n    } else {\n      throw new Error('Not implemented');\n    }\n  },\n\n  isPackageInstalled(packageName: string): Promise<IsPackageInstalledResult | never> {\n    if (Platform.OS === 'android') {\n      return new Promise((resolve, reject) => {\n        NativeModules.RNShare.isPackageInstalled(\n          packageName,\n          (error) => {\n            return reject({ error });\n          },\n          (isInstalled) => {\n            return resolve({\n              isInstalled,\n              message: 'Package is Installed',\n            });\n          },\n        );\n      });\n    } else {\n      throw new Error('Not implemented');\n    }\n  },\n} as const;\n\nexport { Overlay, Sheet, Button, ShareSheet, ShareAsset, Social };\nexport type { ShareSingleOptions, ShareOptions, ActivityType, IsPackageInstalledResult };\nexport type { OverlayProps } from './components/Overlay';\nexport type { SheetProps } from './components/Sheet';\nexport type { ButtonProps } from './components/Button';\nexport type { ShareSheetProps } from './components/ShareSheet';\nexport default RNShare;\n"]}