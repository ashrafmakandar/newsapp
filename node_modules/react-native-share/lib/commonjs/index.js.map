{"version":3,"sources":["index.tsx"],"names":["RNShare","Button","ShareSheet","Overlay","Sheet","Social","FACEBOOK","NativeModules","Facebook","FACEBOOK_STORIES","FACEBOOKSTORIES","FacebookStories","PAGESMANAGER","Pagesmanager","TWITTER","Twitter","WHATSAPP","Whatsapp","INSTAGRAM","Instagram","INSTAGRAM_STORIES","INSTAGRAMSTORIES","InstagramStories","GOOGLEPLUS","Googleplus","EMAIL","Email","PINTEREST","Pinterest","LINKEDIN","Linkedin","SMS","Sms","SHARE_BACKGROUND_IMAGE","ShareAsset","BackgroundImage","SHARE_STICKER_IMAGE","StickerImage","SHARE_BACKGROUND_AND_STICKER_IMAGE","BackgroundAndStickerImage","open","options","Promise","resolve","reject","then","Platform","OS","url","urls","filename","filenames","error","success","message","failOnCancel","dismissedAction","Error","catch","e","shareSingle","isPackageInstalled","packageName","isInstalled"],"mappings":"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","sourcesContent":["import { NativeModules, Platform } from 'react-native';\n\nimport Overlay from './components/Overlay';\nimport Sheet from './components/Sheet';\nimport Button from './components/Button';\nimport ShareSheet from './components/ShareSheet';\nimport requireAndAskPermissions from './helpers/requireAndAskPermissions';\nimport {\n  Social,\n  IsPackageInstalledResult,\n  ActivityType,\n  ShareOpenResult,\n  ShareAsset,\n  ShareOptions,\n  ShareSingleOptions,\n  ShareSingleResult,\n} from './types';\n\nconst RNShare = {\n  Button,\n  ShareSheet,\n  Overlay,\n  Sheet,\n\n  Social: {\n    FACEBOOK: NativeModules.RNShare.FACEBOOK || Social.Facebook,\n    FACEBOOK_STORIES: NativeModules.RNShare.FACEBOOKSTORIES || Social.FacebookStories,\n    PAGESMANAGER: NativeModules.RNShare.PAGESMANAGER || Social.Pagesmanager,\n    TWITTER: NativeModules.RNShare.TWITTER || Social.Twitter,\n    WHATSAPP: NativeModules.RNShare.WHATSAPP || Social.Whatsapp,\n    INSTAGRAM: NativeModules.RNShare.INSTAGRAM || Social.Instagram,\n    INSTAGRAM_STORIES: NativeModules.RNShare.INSTAGRAMSTORIES || Social.InstagramStories,\n    GOOGLEPLUS: NativeModules.RNShare.GOOGLEPLUS || Social.Googleplus,\n    EMAIL: NativeModules.RNShare.EMAIL || Social.Email,\n    PINTEREST: NativeModules.RNShare.PINTEREST || Social.Pinterest,\n    LINKEDIN: NativeModules.RNShare.LINKEDIN || Social.Linkedin,\n    SMS: NativeModules.RNShare.SMS || Social.Sms,\n  },\n\n  FacebookStories: {\n    SHARE_BACKGROUND_IMAGE:\n      NativeModules.RNShare.SHARE_BACKGROUND_IMAGE || ShareAsset.BackgroundImage,\n    SHARE_STICKER_IMAGE: NativeModules.RNShare.SHARE_STICKER_IMAGE || ShareAsset.StickerImage,\n    SHARE_BACKGROUND_AND_STICKER_IMAGE:\n      NativeModules.RNShare.SHARE_BACKGROUND_AND_STICKER_IMAGE ||\n      ShareAsset.BackgroundAndStickerImage,\n  },\n\n  open(options: ShareOptions): Promise<ShareOpenResult | never> {\n    return new Promise((resolve, reject) => {\n      requireAndAskPermissions(options)\n        .then(() => {\n          if (Platform.OS === 'ios' && options.url && !options.urls) {\n            // Backward compatibility with { Share } from react-native\n            const url = options.url;\n            delete options.url;\n\n            options.urls = [url];\n\n            if (options.filename && !options.filenames) {\n              options.filenames = [options.filename];\n              delete options.filename;\n            }\n          }\n\n          NativeModules.RNShare.open(\n            options,\n            (error) => {\n              return reject({ error });\n            },\n            (success, message) => {\n              if (success) {\n                return resolve({\n                  success,\n                  message,\n                });\n              } else if (options.failOnCancel === false) {\n                return resolve({\n                  dismissedAction: true,\n                  success,\n                  message,\n                });\n              } else {\n                reject(new Error('User did not share'));\n              }\n            },\n          );\n        })\n        .catch((e: unknown) => reject(e));\n    });\n  },\n\n  shareSingle(options: ShareSingleOptions): Promise<ShareSingleResult | never> {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      return new Promise((resolve, reject) => {\n        requireAndAskPermissions(options)\n          .then(() => {\n            NativeModules.RNShare.shareSingle(\n              options,\n              (error) => {\n                return reject({ error });\n              },\n              (success, message) => {\n                return resolve({\n                  success,\n                  message,\n                });\n              },\n            );\n          })\n          .catch((e: unknown) => reject(e));\n      });\n    } else {\n      throw new Error('Not implemented');\n    }\n  },\n\n  isPackageInstalled(packageName: string): Promise<IsPackageInstalledResult | never> {\n    if (Platform.OS === 'android') {\n      return new Promise((resolve, reject) => {\n        NativeModules.RNShare.isPackageInstalled(\n          packageName,\n          (error) => {\n            return reject({ error });\n          },\n          (isInstalled) => {\n            return resolve({\n              isInstalled,\n              message: 'Package is Installed',\n            });\n          },\n        );\n      });\n    } else {\n      throw new Error('Not implemented');\n    }\n  },\n} as const;\n\nexport { Overlay, Sheet, Button, ShareSheet, ShareAsset, Social };\nexport type { ShareSingleOptions, ShareOptions, ActivityType, IsPackageInstalledResult };\nexport type { OverlayProps } from './components/Overlay';\nexport type { SheetProps } from './components/Sheet';\nexport type { ButtonProps } from './components/Button';\nexport type { ShareSheetProps } from './components/ShareSheet';\nexport default RNShare;\n"]}